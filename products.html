<!DOCTYPE html>
<html lang="es">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>eMercado - Todo lo que busques está aquí</title>

    <link href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i,900,900i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap"
        rel="stylesheet">

    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

    <!-- TAILWIND -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#f1e7f3",
                        accent: "#190d1b",
                        "surface-light": "#ffffff",
                        "surface-dark": "#1a2530",
                        "background-light": "#f6f7f8",
                        "background-dark": "#111921",
                        "contrast-light": "#111417",
                        "contrast-dark": "#ffffff",
                        "muted-light": "#647587",
                        "muted-dark": "#94a3b8",
                    },
                    fontFamily: {
                        display: ["Plus Jakarta Sans", "Raleway", "sans-serif"],
                    },
                },
            },
        };
    </script>

    <style>
        .material-symbols-outlined {
            font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
        }
    </style>

    <!-- TUS ESTILOS -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dark-mode.css">
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-contrast-light dark:text-contrast-dark">
    <nav class="navbar p-1" id="navbar" style="padding: 0%; display: block;">
    </nav>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-grow">
        <!-- Título de categoría -->
        <div class="mb-8">
            <h2 class="text-4xl font-bold mb-2 text-accent dark:text-contrast-dark" id="category-title">Productos</h2>
            <p class="text-accent/70 dark:text-muted-dark" id="category-description">
                Encuentra los mejores productos al mejor precio
            </p>
        </div>

        <!-- Barra de búsqueda y filtros sticky -->
        <div class="top-20 bg-background-light dark:bg-background-dark py-4 z-10 -mx-4 px-4 sm:mx-0 sm:px-0">
            <!-- Buscador -->
            <div class="relative mb-6">
                <input id="buscador"
                    class="w-full h-12 pl-12 pr-4 rounded-lg bg-surface-light dark:bg-surface-dark border border-primary/20 dark:border-surface-dark/50 focus:ring-2 focus:ring-primary focus:outline-none text-accent dark:text-contrast-dark placeholder:text-accent/50 dark:placeholder:text-muted-dark"
                    placeholder="Buscar por nombre o descripción..." type="text" />
                <div class="absolute inset-y-0 left-0 flex items-center pl-4 text-accent/60 dark:text-muted-dark">
                    <span class="material-symbols-outlined">search</span>
                </div>
            </div>

            <!-- Filtros en chips -->
            <div class="flex flex-wrap gap-3">
                <!-- Dropdown de Condición -->
                <div class="relative">
                    <button id="btn-condicion"
                        class="flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-surface-light dark:bg-surface-dark hover:bg-primary/10 dark:hover:bg-surface-dark/50 text-accent dark:text-contrast-dark border border-primary/20 dark:border-transparent">
                        Condición
                        <span class="material-symbols-outlined text-base">expand_more</span>
                    </button>
                    <div id="dropdown-condicion"
                        class="hidden absolute top-full mt-2 bg-surface-light dark:bg-surface-dark rounded-lg shadow-lg p-4 min-w-[200px] z-20 border border-primary/20 dark:border-surface-dark">
                        <label class="flex items-center gap-2 mb-2 cursor-pointer text-accent dark:text-contrast-dark">
                            <input type="checkbox" id="cond-nuevo" value="nuevo" class="rounded accent-primary">
                            <span class="text-sm">Nuevo</span>
                        </label>
                        <label class="flex items-center gap-2 mb-2 cursor-pointer text-accent dark:text-contrast-dark">
                            <input type="checkbox" id="cond-reacond" value="reacondicionado"
                                class="rounded accent-primary">
                            <span class="text-sm">Reacondicionado</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer text-accent dark:text-contrast-dark">
                            <input type="checkbox" id="cond-usado" value="usado" class="rounded accent-primary">
                            <span class="text-sm">Usado</span>
                        </label>
                    </div>
                </div>

                <!-- Dropdown de Precio -->
                <div class="relative">
                    <button id="btn-precio"
                        class="flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-surface-light dark:bg-surface-dark hover:bg-primary/10 dark:hover:bg-surface-dark/50 text-accent dark:text-contrast-dark border border-primary/20 dark:border-transparent">
                        Precio
                        <span class="material-symbols-outlined text-base">expand_more</span>
                    </button>
                    <div id="dropdown-precio"
                        class="hidden absolute top-full mt-2 bg-surface-light dark:bg-surface-dark rounded-lg shadow-lg p-4 min-w-[200px] z-20 border border-primary/20 dark:border-surface-dark">
                        <input type="number" id="precio-min"
                            class="w-full mb-2 px-3 py-2 rounded-lg bg-background-light dark:bg-background-dark border border-primary/20 dark:border-surface-dark/50 text-sm text-accent dark:text-contrast-dark placeholder:text-accent/50 dark:placeholder:text-muted-dark"
                            placeholder="Mínimo">
                        <input type="number" id="precio-max"
                            class="w-full px-3 py-2 rounded-lg bg-background-light dark:bg-background-dark border border-primary/20 dark:border-surface-dark/50 text-sm text-accent dark:text-contrast-dark placeholder:text-accent/50 dark:placeholder:text-muted-dark"
                            placeholder="Máximo">
                    </div>
                </div>

                <!-- Checkbox En Stock -->
                <label
                    class="flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-surface-light dark:bg-surface-dark hover:bg-primary/10 dark:hover:bg-surface-dark/50 cursor-pointer text-accent dark:text-contrast-dark border border-primary/20 dark:border-transparent">
                    <span class="material-symbols-outlined text-base">inventory_2</span>
                    <input type="checkbox" id="stock" value="en-stock" class="rounded accent-primary">
                    En Stock
                </label>

                <!-- Dropdown Tiempo de Entrega -->
                <div class="relative">
                    <button id="btn-entrega"
                        class="flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-surface-light dark:bg-surface-dark hover:bg-primary/10 dark:hover:bg-surface-dark/50 text-accent dark:text-contrast-dark border border-primary/20 dark:border-transparent">
                        Tiempo de Entrega
                        <span class="material-symbols-outlined text-base">expand_more</span>
                    </button>
                    <div id="dropdown-entrega"
                        class="hidden absolute top-full mt-2 bg-surface-light dark:bg-surface-dark rounded-lg shadow-lg p-4 min-w-[180px] z-20 border border-primary/20 dark:border-surface-dark">
                        <select id="entrega"
                            class="w-full px-3 py-2 rounded-lg bg-background-light dark:bg-background-dark border border-primary/20 dark:border-surface-dark/50 text-sm text-accent dark:text-contrast-dark">
                            <option value="">Cualquiera</option>
                            <option value="24">24h</option>
                            <option value="48">48h</option>
                            <option value="72">72h o más</option>
                        </select>
                    </div>
                </div>

                <div class="flex-grow"></div>

                <!-- Dropdown Ordenar -->
                <div class="relative">
                    <button id="btn-ordenar"
                        class="flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-surface-light dark:bg-surface-dark hover:bg-primary/10 dark:hover:bg-surface-dark/50 text-accent dark:text-contrast-dark border border-primary/20 dark:border-transparent">
                        <span id="ordenar-text">Ordenar por: Relevancia</span>
                        <span class="material-symbols-outlined text-base">expand_more</span>
                    </button>
                    <div id="dropdown-ordenar"
                        class="hidden absolute top-full mt-2 right-0 bg-surface-light dark:bg-surface-dark rounded-lg shadow-lg p-2 min-w-[220px] z-20 border border-primary/20 dark:border-surface-dark">
                        <button data-value="relevancia"
                            class="w-full text-left px-3 py-2 rounded hover:bg-primary/20 dark:hover:bg-background-dark text-sm text-accent dark:text-contrast-dark">Relevancia</button>
                        <button data-value="precio-asc"
                            class="w-full text-left px-3 py-2 rounded hover:bg-primary/20 dark:hover:bg-background-dark text-sm text-accent dark:text-contrast-dark">Precio:
                            menor a mayor</button>
                        <button data-value="precio-desc"
                            class="w-full text-left px-3 py-2 rounded hover:bg-primary/20 dark:hover:bg-background-dark text-sm text-accent dark:text-contrast-dark">Precio:
                            mayor a menor</button>
                        <button data-value="nombre-asc"
                            class="w-full text-left px-3 py-2 rounded hover:bg-primary/20 dark:hover:bg-background-dark text-sm text-accent dark:text-contrast-dark">Nombre
                            A-Z</button>
                        <button data-value="nombre-desc"
                            class="w-full text-left px-3 py-2 rounded hover:bg-primary/20 dark:hover:bg-background-dark text-sm text-accent dark:text-contrast-dark">Nombre
                            Z-A</button>
                    </div>
                </div>

                <!-- Botones de acción -->
                <button id="aplicar-filtros"
                    class="px-4 py-2 rounded-full text-sm font-bold bg-primary text-accent hover:bg-primary/90">
                    Aplicar
                </button>
                <button id="limpiar-filtros"
                    class="px-4 py-2 rounded-full text-sm font-medium bg-surface-light dark:bg-surface-dark hover:bg-primary/10 dark:hover:bg-surface-dark/50 text-accent dark:text-contrast-dark border border-primary/20 dark:border-transparent">
                    Limpiar
                </button>
            </div>
        </div>

        <!-- Grid de productos -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8 mt-8"
            id="product-list-container">
            <!-- Los productos se cargan aquí dinámicamente -->
        </div>
    </main>

    <footer class="text-accent/60 dark:text-muted-dark py-8">
        <div class="container mx-auto px-4">
            <p class="float-end">
                <a href="#" class="hover:text-primary">Volver arriba</a>
            </p>
            <p>Este sitio forma parte de <a href="https://jovenesaprogramar.edu.uy/" target="_blank"
                    class="hover:text-primary">Jovenes a Programar</a></p>
        </div>
    </footer>

    <div id="spinner-wrapper">
        <div class="lds-ring">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <script src="js/init.js"></script>
    <script src="js/products.js"></script>
    <script src="js/nav.js"></script>
    <script src="js/dark-mode.js"></script>
</body>

</html>